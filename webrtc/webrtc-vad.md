## VAD  
### [WebRTC VAD模块分析](http://www.yushuai.xyz/2019/07/15/4404.html)    
WebRTC VAD将频带分为了6个子带：80Hz~250Hz，250Hz~500Hz，500Hz~1K，1K~2K，2K~3K，3K~4K，在程序里面分别对应了分别对应于feature_vector [0]，feature_vector [1]，feature_vector [2]，feature_vector [3]，feature_vector [4]，feature_vector [5]。**之所以最高为4k是因为，WebRTC在处理的时候采样率统一调整为了8kHz，所以根据奈奎斯特定理，用于的频率就是4kHz以下。**  
可以看到以1KHz为分界，向下500HZ，250Hz以及170HZ三个段，向上也有三个段，每个段是1KHz，这一频段涵盖了语音中绝大部分的信号能量，且能量越大的子带的区分度越细致。由于我国交流电标准是220V~50Hz，电源50Hz的干扰会混入麦克风采集到的数据中且物理震动也会带来影响，所以取了80Hz以上的信号。

WebRTC VAD使用的是GMM（高斯混合模型）进行分类，使Noise作为一类，Speech作为一类，两类求求后验概率，并且实时更新GMM参数。

WebRTC VAD只能工作在采样率为8000Hz的模式下，故对16kHz、32kHz、48kHz都需要进行重新采样来转换到8000Hz。目前程序仅支持8000Hz、16kHz、32kHz和48kHz。  

** 一个好的VAD特征应该具备以下特性： ** 
 -   区分能力：含噪语音和仅含噪声音频的分离度应该尽可能的大。理论上的最好效果是让语音特征和噪声特征没有交集（实际很难，因为会有相似）
-   噪声鲁棒性：背景噪声会造成语音失真，这会影响提取的特征区分能力。
1.  基于能量的特征：基于能量的方法可以将宽带语音分成各个子带，求各个子带的能量。这是因为语音在2kHz以下频带含有大量的能量，而噪声在2~4kHz及4kHz以上频带的能量往往要比在0~2kHz的能量高。这其实就是**噪声平坦度**的概念。WebRTC中基于统计模型方法利用了频谱平坦度的特征。**基于能量的方法在信噪比低于10dB的时候，语音和噪声的区分性能会大大下降。**
2.  短时能量过零率：采集到的语音信号在数字域上有正负之分。过零率等于一段时间内穿过横轴的次数与总采样点数的比值，它反映了信号变化的**快慢**，虽然是时域特征，但变化快慢在一定程度上体现了频域的信息。**过零率对低频噪声敏感，实际使用中可以过滤掉低频部分。**
3.  频域特征：通过STFT将时域信号变成频域信号，即使SNR=0的时候，一些频带的长时包络还是可以用于区分语音和噪声的。
4.  倒谱特征：能量倒谱峰值确定了语音信号的基频，也有使用MFCC特征的。
5.  基于谐波的特征：语音的一个明显特征是包含了基频F0和多个谐波频率的，即使在强噪声条件下，谐波这一特征也存在，可以使用自相关的方法找到基频所在的频点。
6.  长时特征：语音是非稳态信号，音素间的谱分布是不同的，这就导致了随着时间变化，语音统计特性也是变化的。另外，日常绝大多数噪声都是稳态的（变化较慢），如白噪声、家电噪声等，根据音频长时统计变化特征（语音变化快，日常稳态噪声变化慢）也可以区分噪声和语音。
