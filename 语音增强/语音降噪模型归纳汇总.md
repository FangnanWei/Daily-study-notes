# [语音降噪模型归纳汇总](https://zhuanlan.zhihu.com/p/431275459)
## rnnoise
[[RNNoise]]
## PercepNet
**[论文翻译：2021_PercepNet：A Perceptually Motivated Approach for Low-complexity, Real-time Enhancement of Fullband Speech](https://www.cnblogs.com/LXP-Never/p/15679428.html)
[github](https://hub.nuaa.cf/jzi040941/PercepNet)
[原作者博客](https://www.amazon.science/blog/how-amazon-chimes-challenge-winning-noise-cancellation-works)**



### 摘要
近几年来，基于深度学习的语音增强方法大大超过了传统的基于谱减法和谱估计的语音增强方法。许多新技术直接在频域操作，导致了很高的计算复杂度。在这项工作中，我们提出了PercepNet，这是一种高效的方法，它依赖于人类对语音的感知，通过关注语音的谱包络和语音的周期性，我们展示了高质量的实时增强全频带(48 KHz)语音的方法，使用了不到5%的CPU核。

**关键词**：语音增强，基音滤波，后置滤波
### 引用

在过去的几年里，基于深度学习的语音增强方法大大超过了传统的基于谱减法和谱估计的方法[1]和[2]。其中许多技术直接使用短时傅立叶变换(STFT)，估计幅度[3，4，5]或者理想比值掩码(IRM)[6，7]。这通常需要大量的神经元和权重，导致很高的复杂性，这也部分解释了为什么许多这些方法被限制在8或16 kHz。STFT的使用还带来了窗长的权衡，**长窗口会引起音乐噪声和类似混响的效果**，而**短窗口不能提供足够的频率分辨率来消除音调谐波之间的噪声**。这些问题可以通过复数比值掩码(cRM)[8]或时域处理[9，10，11]来缓解，但代价是进一步增加复杂度。

我们提出了PercepNet，这是一种非常依赖于人类对语音信号的感知并改进了RNNoise的有效方法[12]。更确切地说，我们关注关键频段的音频感知(第2节)，音调和噪音的感知(第3节)，并使用了**新的非因果梳状滤波器**。我们使用的深度神经网络(DNN)模型是使用**感知标准**进行训练的(第4节)。我们提出了一种**新的包络后置滤波器**(第5节)，进一步改善了增强后的信号。
PercepNet算法在10ms的帧上运行，具有40ms的look ahead，仅使用x86 CPU内核的4.1%就可以实时增强48 kHz的语音。我们发现它的性能大大超过了RNNoise(第6节)。
### 信号模型

设x(n)是纯净语音信号，在嘈杂的房间中由免提麦克风捕获的信号由下式给出

公式：公式1：y(n)=x(n)∗h(n)+η(n)

其中η(n)是来自房间的噪声，h(n)是从讲话者到麦克风的脉冲响应，∗表示卷积。 此外，纯净语音可以表示为x(n)=p(n)+μ(n)，其中p(n)是局部周期分量，而μ(n)是随机分量（这里考虑诸如停顿之类的瞬变作为随机分量的一部分）。 在这项工作中，我们尝试计算增强信号x^(n)=p^(n)+μ^(n)，使它在感知上尽可能接近纯净语音x(n)。 从环境噪声η(n)中分离随机分量μ(n)是一个非常困难的问题。 幸运的是，我们只需要μ^(n)听起来像μ(n)，这可以通过过滤混合μ(n)∗h(n)+η(n)以具有与μ(n)相同的频谱包络来实现。 由于p(n)是周期性的，并且假设噪声不具有强周期性，因此p(n)应该更容易估计。 同样，我们主要需要p^(n)具有与p(n)相同的频谱包络和相同的周期。

　　我们试图构造一个增强信号，它具有与纯净信号相同的1)频谱包络，2)频率相关的周期随机比(periodic-to-stochastic ratio)。对于这两个属性，我们使用与人类感知相匹配的分辨率。

　　我们使用具有20 ms窗口和50%重叠的短时傅立叶变换(STFT)。我们使用满足Princen-Bradley完全重构准则的Vorbis窗函数[13]进行分析(analysis)和合成(synthesis)，如图1所示。算法概述如图2所示 。

![](https://img2020.cnblogs.com/blog/1433301/202112/1433301-20211212165547685-182148745.png)

图1：当前合成(synthesized)窗以红色显示。我们使用三个前瞻(look-ahead)窗口（以虚线显示），以便在t = 40ms之前的采样用于计算t = 0之前的音频输出

![](https://img2020.cnblogs.com/blog/1433301/202112/1433301-20211212165600860-518715299.png)

图2：PercepNet算法概述
#### bands
绝大多数噪声信号具有较宽的带宽和平滑的频谱。类似地，语音的周期分量和随机分量都具有平滑的谱包络。这使得我们可以使用34个频段来表示它们的包络，范围从0到20 kHz，**间隔根据人类听力等效矩形带宽(ERB)[15]** 为了避免仅使用频率bin，我们将最小频带宽度设置为100Hz。

为了使增强信号的每个频带在感知上接近纯净语音，**它们的总能量和周期都应该是相同的**。在本文中，我们将信号x(n)复值谱用xb(l)表示(l表示帧索引，b表示频带索引)。我们也将该频带的L2 norm表示为Xb(l)。
#### gains
根据频带b中noisy的语音信号的大小，我们计算**理想的比率掩码**(ideal ratio mask, IRM)，将增益gb(l)应用于yb，使其具有与xb(l)相同的能量：

公式：公式2：gb(l)=Xb(l)Yb(l)

在语音仅具有随机分量的情况下，将增益gb(l)应用于频带b中的幅度谱将产生几乎无法与纯净语音信号区分的增强信号。另一方面，当语音是完全周期性的时，应用增益gb(l)会产生一个增强的信号，听起来比纯净语音更粗糙；即使能量是相同的，增强后的信号也没有纯净语音那么刺耳。在这种情况下，由于音调对噪声的影响相对较小，因此噪声特别明显[16]。在这种情况下，我们使用下一节中描述的**梳状滤波器来消除基音谐波之间的噪声，并使信号更具周期性**。
### Pitch滤波
**为了重建纯净语音的谐波特性，我们使用了基于基音频率的梳状滤波**。梳状滤波器可以获得比STFT(使用20毫秒帧的50 Hz)**更好的频率分辨率**。我们使用基于相关性的方法结合动态规划搜索来估计基音周期[17]。
#### 滤波器


　　